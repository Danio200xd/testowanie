- name: Uruchom curl parrot.live i pokaÅ¼ wynik w AWX
  hosts: all
  become: yes
  gather_facts: false

  tasks:
    - name: SprawdÅº czy curl jest zainstalowany
      ansible.builtin.shell: which curl
      register: curl_check
      changed_when: false
      failed_when: curl_check.rc != 0
      ignore_errors: false

    - name: Pobierz animacjÄ™ z parrot.live z limitem czasu
      ansible.builtin.shell: timeout 3s curl -s parrot.live
      register: curl_output
      changed_when: false

    - name: PokaÅ¼ wynik w logach AWX
      ansible.builtin.debug:
        msg: |
          ğŸ¦œ Wynik curl z parrot.live:

          {{ curl_output.stdout | default('âŒ Brak odpowiedzi lub przerwane.') }}
